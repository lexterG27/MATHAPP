<!DOCTYPE html>
<html>
<head>
  <title>Basic to Advance Math Learning App</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="css/jquery.mobile.flatui.css" />
  <link rel="stylesheet" type="text/css" href="css/movingbackground.css" />
  <script src="js/underscore-min.js"></script>
  <script src="js/underscore.js"></script>

  <script src="js/jquery.js"></script>
  <script src="js/jquery.mobile-1.4.0-rc.1.js"></script>

  <!--Scripts for Quiz-->
  <script>
    var quiztitle = "";
    var quiz = _.shuffle([
        {
            "question"      :   "Which number is 10 000 smaller than 89 999? ",
            "image"         :   "",
            "choices"       :   [
                                    "89 999",
                                    "79 999",
                                    "69 999",
                                    "99 999"
                                ],
            "correct"       :   "79 999",
            "explanation"   :   "",
        },
        {
            "question"      :   "Which number is 10 000 greater than 75 650?",
            "image"         :   "",
            "choices"       :   [
                                    "85 700",
                                    "95 650",
                                    "85 650",
                                    "65 650"
                                ],
            "correct"       :   "85 700",
            "explanation"   :   "",
        },
        {
            "question"      :   "Mr. Ong bought some appliances worth Php 85, 675. What is the value of 6?",
            "image"         :   "",
            "choices"       :   [
                                    "600",
                                    "60 000",
                                    "6 000",
                                    "60"
                                ],
            "correct"       :   "600",
            "explanation"   :   "",
        },
        {
            "question"      :   "In the number 45 678. What is in the tens place?",
            "image"         :   "",
            "choices"       :   [
                                    "600",
                                    "700",
                                    "70",
                                    "60"
                                ],
            "correct"       :   "70",
            "explanation"   :   "",
        },
        {
            "question"      :   "What is the value of 4 in 78 456.",
            "image"         :   "",
            "choices"       :   [
                                    "4 000",
                                    "40",
                                    "400",
                                    "40 000"
                                ],
            "correct"       :   "400",
            "explanation"   :   "",
        },
        {
            "question"      :   "What is the value of 8 in 78 456.",
            "image"         :   "",
            "choices"       :   [
                                    "800",
                                    "8 000",
                                    "80 000",
                                    "80"
                                ],
            "correct"       :   "8 000",
            "explanation"   :   "",
        },
        {
            "question"      :   "What is the value of 9 in 97 428.",
            "image"         :   "",
            "choices"       :   [
                                    "90 000",
                                    "900",
                                    "9 000",
                                    "900 000"
                                ],
            "correct"       :   "90 000",
            "explanation"   :   "",
        },
        {
            "question"      :   "What is the value of 1 in 100 000..",
            "image"         :   "",
            "choices"       :   [
                                    "100 000",
                                    "1 000",
                                    "10 000",
                                    "1 000 000"
                                ],
            "correct"       :   "100 000",
            "explanation"   :   "",
        },
        {
            "question"      :   "Choose the number that can be rounded to the given number. 79 000 = ______",
            "image"         :   "",
            "choices"       :   [
                                    "78 124",
                                    "77 342",
                                    "77 473",
                                    "77 678"
                                ],
            "correct"       :   "78 124",
            "explanation"   :   "",
        },
        {
            "question"      :   "An angle that measures 90 degress. It forms a square corner.",
            "image"         :   "",
            "choices"       :   [
                                    "Acute Angle",
                                    "Right Angle",
                                    "Obtuse Angle",
                                    "None of the Above"
                                ],
            "correct"       :   "Right Angle",
            "explanation"   :   "",
        },
        {
            "question"      :   "50 000   +   2000   +   400   +  70  + 2  = __________",
            "image"         :   "",
            "choices"       :   [
                                    "502 472",
                                    "524 072",
                                    "524 720",
                                    "52 472"
                                ],
            "correct"       :   "52 472",
            "explanation"   :   "",
        },
        {
            "question"      :   "90 000   +   1000   +   700    + 0  = _________",
            "image"         :   "",
            "choices"       :   [
                                    "91 700",
                                    "910 700",
                                    "917 000",
                                    "9 170"
                                ],
            "correct"       :   "91 700",
            "explanation"   :   "",
        },
        {
            "question"      :   "30 000   +   4000   +   00      + 40  +  3  = __________",
            "image"         :   "",
            "choices"       :   [
                                    "3 443",
                                    "34 430",
                                    "34 043",
                                    "3 403"
                                ],
            "correct"       :   "34 043",
            "explanation"   :   "",
        },
        {
            "question"      :   "What is Forty-one thousand seventy in symbols?",
            "image"         :   "",
            "choices"       :   [
                                    "41 000 700",
                                    "41 700",
                                    "4 170",
                                    "41 070"
                                ],
            "correct"       :   "41 070",
            "explanation"   :   "",
        },

        {
            "question"      :   "Round the number 7 to the nearest value: 67 436 _____________",
            "image"         :   "",
            "choices"       :   [
                                    "67 400",
                                    "66 000",
                                    "67 000",
                                    "68 000"
                                ],
            "correct"       :   "67 000",
            "explanation"   :   "",
        },
        
        

    ]);
    /******* No need to edit below this line *********/
    var currentquestion = 0, score = 0, submt=true, picked;

    jQuery(document).ready(function($){
  
        function htmlEncode(value){
          return $(document.createElement('div')).text(value).html();
        }

        function addChoices(choices){
            if(typeof choices !== "undefined" && $.type(choices) == "array"){
                $('#choice-block').empty();
                for(var i=0;i<choices.length; i++){

                    $(document.createElement('li')).addClass('choice choice-box').attr('data-index', i).text(choices[i]).appendTo('#choice-block');                    
                }
            }
        }

        
        /**
         * Resets all of the fields to prepare for next question
         */
        function nextQuestion(){
            submt = true;
            $('#explanation').empty();
            $('#question').text(quiz[currentquestion]['question']);
            $('#pager').text('Question ' + Number(currentquestion + 1) + ' of ' + quiz.length);
            if(quiz[currentquestion].hasOwnProperty('image') && quiz[currentquestion]['image'] != ""){
                if($('#question-image').length == 0){
                    $(document.createElement('img')).addClass('question-image').attr('id', 'question-image').attr('src', quiz[currentquestion]['image']).attr('alt', htmlEncode(quiz[currentquestion]['question'])).insertAfter('#question');
                } else {
                    $('#question-image').attr('src', quiz[currentquestion]['image']).attr('alt', htmlEncode(quiz[currentquestion]['question']));
                }
            } else {
                $('#question-image').remove();
            }
            addChoices(quiz[currentquestion]['choices']);
            setupButtons();
        }
        /**
         * After a selection is submitted, checks if its the right answer
         *
         * @param {choice} number The li zero-based index of the choice picked
         */
        function processQuestion(choice){
            if(quiz[currentquestion]['choices'][choice] == quiz[currentquestion]['correct']){
                $('.choice').eq(choice).css({'background-color':'#50D943'});
                $('#explanation').html('<strong></strong> ' + htmlEncode(quiz[currentquestion]['explanation']));
      /* Play sound if correct*/
                var sound = $("#soundcorrect")[0];     
                sound.addEventListener('ended', function() {      
                }, false);
                sound.play(); 

                score++;
            } else {
                $('.choice').eq(choice).css({'background-color':'#D92623'});
                $('#explanation').html('<strong></strong> ' + htmlEncode(quiz[currentquestion]['explanation']));
                /* Play sound if wrong*/
                var sound = $("#soundwrong")[0];     
                sound.addEventListener('ended', function() {      
                }, false);
                sound.play(); 
            }
            currentquestion++;
            $('#submitbutton').html('NEXT QUESTION &raquo;').on('click', function(){
                if(currentquestion == quiz.length){
                    endQuiz();
                } else {
                    $(this).text('Check Answer').css({'color':'#222'}).off('click');
                    nextQuestion();
                }
            })
        }
        /**
         * Sets up the event listeners for each button.
         */
        function setupButtons(){
            $('.choice').on('mouseover', function(){
                $(this).css({'background-color':'#e1e1e1'});
            });
            $('.choice').on('mouseout', function(){
                $(this).css({'background-color':'#fff'});
            })
            $('.choice').on('click', function(){
                picked = $(this).attr('data-index');
                $('.choice').removeAttr('style').off('mouseout mouseover');
                $(this).css({'border-color':'#222','font-weight':700,'background-color':'#c1c1c1'});
                if(submt){
                    submt=false;
                    $('#submitbutton').css({'color':'#000'}).on('click', function(){
                        $('.choice').off('click');
                        $(this).off('click');
                        processQuestion(picked);
                    });
                }
            })
        }
        
        /**
         * Quiz ends, display a message.
         */
        function endQuiz(){
            $('#explanation').empty();
            $('#question').empty();
            $('#choice-block').empty();
            $('#submitbutton').remove();
            $('#question').text("You got " + score + " out of " + quiz.length + " correct.");
            $(document.createElement('h2')).css({'text-align':'center', 'font-size':'4em'}).text(Math.round(score/quiz.length * 100) + '%').insertAfter('#question');
          /*show button after game and proceed to main menu */
            $('#mybutton').show();
            $(document).on('click','#mybutton',function(){
                window.location='quizgrade4easy.html';
            });
            endGame();  

        }
        /**
         * Runs the first time and creates all of the elements for the quiz
         */
        function init(){
            //add title
            if(typeof quiztitle !== "undefined" && $.type(quiztitle) === "string"){
                $(document.createElement('h1')).text(quiztitle).appendTo('#frame');
            } else {
                $(document.createElement('h1')).text("Quiz").appendTo('#frame');
            }
            //add pager and questions


            if(typeof quiz !== "undefined" && $.type(quiz) === "array"){
                //add pager
                $(document.createElement('p')).addClass('pager').attr('id','pager').text('Question 1 of ' + quiz.length).appendTo('#frame');
                //add first question
                $(document.createElement('h2')).addClass('question').attr('id', 'question').text(quiz[0]['question']).appendTo('#frame');
                //add image if present
                if(quiz[0].hasOwnProperty('image') && quiz[0]['image'] != ""){
                    $(document.createElement('img')).addClass('question-image').attr('id', 'question-image').attr('src', quiz[0]['image']).attr('alt', htmlEncode(quiz[0]['question'])).appendTo('#frame');
                }
                //$(document.createElement('p')).addClass('explanation').attr('id','explanation').html('&nbsp;').appendTo('#frame');
            
                //questions holder
                $(document.createElement('ul')).attr('id', 'choice-block').appendTo('#frame');
            
                //add choices
                addChoices(quiz[0]['choices']);
            
                //add submit button
                $(document.createElement('div')).addClass('choice-box').attr('id', 'submitbutton').text('Check Answer').css({'font-weight':700,'color':'#222','padding':'30px 0'}).appendTo('#frame');
            
                setupButtons();
            }
        }
        
        init();
    });
    </script>
    <style type="text/css" media="all">
        /*css reset */
        html,body,div,span,h1,h2,h3,h4,h5,h6,p,code,small,strike,strong,sub,sup,b,u,i{
          border:0;
          font-size:100%;
          font:inherit;
          vertical-align:baseline;
          margin:0;
          padding:0;
        }           
        article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{
          display:block;
        } 
        body{
          line-height:1; 
          font:normal 0.9em/1em "Helvetica Neue", Helvetica, Arial, sans-serif;
        } 
        ol,ul{
          list-style:none;
        }
        strong{
          font-weight:700;
        }
        #frame{
          max-width:620px;
          width:auto;
          border:1px solid #ccc;
          background:#fff;
          padding:10px;
          margin:3px;}
        h1{
          font:normal bold 2em/1.8em "Helvetica Neue", Helvetica, Arial, sans-serif;
          text-align:left;
          border-bottom:1px solid #999;
          padding:0;
          width:auto
        }
        h2{
          font:italic bold 1.3em/1.2em "Helvetica Neue", Helvetica, Arial, sans-serif;padding:0;
          text-align:center;
          margin:20px 0;
        }
        p.pager{
          margin:5px 0 5px; 
          font:bold 1em/1em "Helvetica Neue", Helvetica, Arial, sans-serif;
          color:#999;
        }
        #choice-block{
          display:block;list-style:none;
          margin:0;
          padding:0;
        }
        #submitbutton{
          background:#4b4ffa;
        }
        #submitbutton:hover{
          background:#4b4ffa;
        }
        #explanation{
          margin:0 auto;
          padding:20px;
          width:75%;
        }
        .choice-box{
          display:block;
          text-align:center;
          margin:8px auto;
          padding:10px 0;
          border:1px solid #666;
          cursor:pointer;
          -webkit-border-radius: 5px;
          -moz-border-radius: 5px;
          border-radius: 5px;}


    #mybutton{
      display:none;
    }


    /* For Timer */
    span{
        color:blue;
        text-align: center;
        font-size: 30px;
        font-family: Elephant;
    }
    </style>

</head>
<body>
  <div data-role="page">

    <div data-role="panel" id="panel" data-position="right" data-theme="a" data-display="push"></div>

    <div data-role="header" data-theme="b">
      <h1>Math Learning|SJES</h1>
    </div>
    <div class="hero-bkg-animated">
    <!--Content Goes Here-->
    <div data-role="content" role="main">
    
      <div id="frame" role="content"><img src="images/headerfinal.png" ><span><h2><time>00:00:00</time></h2></span></div>

<div style="display:none">
<button id="start">start</button>
<button id="stop">stop</button>
<button id="clear">clear</button>
</div>
<button id="mybutton">Try Again?</button>
      <!--Footer-->
      <div><br>
        <h4 style="color:white">&copy; 2019 - PCNL, Agoo, La Union<br>(072) 522 1038 | (072) 607 0406</h4> 
      </div> 
    </div>
  </div>
</div><!--End of role-page-->


<!--External Contents-->
<audio id="soundcorrect">
          <source src="sounds/correct.mp3" type="audio/ogg" hidden="true">
</audio>
<audio id="soundwrong">
          <source src="sounds/wrong.mp3" type="audio/ogg" hidden="true">
</audio>

<!--External Audio Background Music-->
<div id="player">
    <embed name="myMusic" loop="infinite" hidden="true" src="sounds\fun.mp3"></embed>
</div>


<script>
var h2 = document.getElementsByTagName('h2')[0],
    start = document.getElementById('start'),
    stop = document.getElementById('stop'),
    clear = document.getElementById('clear'),
    seconds = 0, minutes = 0, hours = 0,
    t;

function add() {
    seconds++;
    if (seconds >= 60) {
        seconds = 0;
        minutes++;
        if (minutes >= 60) {
            minutes = 0;
            hours++;
        }
    }
    
    h2.textContent = (hours ? (hours > 9 ? hours : "0" + hours) : "00") + ":" + (minutes ? (minutes > 9 ? minutes : "0" + minutes) : "00") + ":" + (seconds > 9 ? seconds : "0" + seconds);

    timer();
}
function timer() {
    t = setTimeout(add, 1000);
}
timer();

function endGame() {
    clearTimeout(t);
}


/* Start button */
start.onclick = timer;

/* Stop button */

/* Clear button *
clear.onclick = function() {
    h1.textContent = "00:00:00";
    seconds = 0; minutes = 0; hours = 0;
}
</script>


</body>
</html>
